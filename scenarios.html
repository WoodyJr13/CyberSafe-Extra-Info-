<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberSafe | Scenario Practice Center</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <header id="main-header">
        <div class="container">
            <a href="index.html" class="logo">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shield">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                </svg>
                CyberSafe
            </a>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="learn.html">Learn</a></li>
                    <li><a href="scenarios.html">Scenarios</a></li>
                    <li><a href="tools.html">Tools</a></li>
                    <li><a href="njccic.html">About NJCCIC</a></li>
                </ul>
            </nav>
            <a href="https://www.cyber.nj.gov/" target="_blank" class="btn btn-primary cta">NJCCIC</a>
        </div>
    </header>

    <main>
        <section id="scenarios" class="content-section">
            <div class="container">
                <h2>Scenario Practice Center</h2>
                <div class="scenario-container">
                    <div class="scenario-content">
                        <p id="scenario-text">Loading scenario...</p>
                        <div id="choices" class="choices-container">
                            </div>
                    </div>
                    <div id="feedback" class="feedback"></div>
                    <button id="next-scenario-btn" class="btn btn-secondary" style="display: none;">Next Scenario</button>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="privacy-terms.html">Privacy & Terms</a>
                <a href="#">Contact Us</a>
                <a href="njccic.html">About NJCCIC</a>
            </div>
            <p class="copyright">Â© 2025 CyberSafe. Created by Ved Shah. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const scenarios = [
                {
                    text: "You receive a text message from a number you don't know, claiming to be from your bank. It says, 'Urgent: There's been suspicious activity on your account. Click this link to verify your identity now: [link]'.",
                    choices: ["Click the link to see what the issue is.", "Delete the message and block the number.", "Reply and ask for more information."],
                    bestAnswer: "Delete the message and block the number.",
                    feedback: {
                        "Click the link to see what the issue is.": "Incorrect. This is a classic phishing scam. Clicking the link could lead to a fake website designed to steal your information or install malware.",
                        "Delete the message and block the number.": "Correct! This is the best course of action. It prevents you from accidentally clicking the link and stops further attempts from this number.",
                        "Reply and ask for more information.": "Incorrect. Engaging with the scammer confirms your number is active and could lead to more scam attempts. Never reply to suspicious messages."
                    }
                },
                {
                    text: "You're at a coffee shop and your phone alerts you to a free Wi-Fi network named 'Free_Public_WiFi'. You need to check your bank account. What should you do?",
                    choices: ["Connect to the network and check your account.", "Use your phone's cellular data instead.", "Ask the barista for the official Wi-Fi name."],
                    bestAnswer: ["Use your phone's cellular data instead.", "Ask the barista for the official Wi-Fi name."],
                    feedback: {
                        "Connect to the network and check your account.": "Incorrect. Public, unsecured Wi-Fi networks can be dangerous. A hacker can set up a fake network to intercept your data.",
                        "Use your phone's cellular data instead.": "Correct! Using cellular data is a much safer choice as it creates a direct, encrypted connection, protecting your sensitive information from potential eavesdroppers.",
                        "Ask the barista for the official Wi-Fi name.": "Correct! Verifying the official network name is a smart move. Even then, using a VPN for sensitive transactions is best practice on public Wi-Fi."
                    }
                },
                {
                    text: "Your email inbox has a message from what looks like a popular streaming service. The subject line is 'Your Payment Has Failed. Update Now.' When you hover over the sender's email, you see it's a long, random string of characters.",
                    choices: ["Click the link in the email to update your payment info.", "Go directly to the streaming service's official website to check your account status.", "Forward the email to a friend to see if they got it too."],
                    bestAnswer: "Go directly to the streaming service's official website to check your account status.",
                    feedback: {
                        "Click the link in the email to update your payment info.": "Incorrect. This is a phishing email. The suspicious sender address is a major red flag. Clicking the link could lead to a fake login page designed to steal your credentials.",
                        "Go directly to the streaming service's official website to check your account status.": "Correct! This is the safest action. By manually navigating to the official site, you bypass any malicious links and can verify the status of your account directly.",
                        "Forward the email to a friend to see if they got it too.": "Incorrect. Forwarding a suspicious email can spread the scam. It's better to delete it and warn your friends not to fall for similar tricks."
                    }
                },
                {
                    text: "You're Browse the web when a pop-up appears with a loud alarm sound, claiming your computer is infected with a virus and you need to call the provided number immediately for tech support.",
                    choices: ["Call the number and follow their instructions to remove the virus.", "Close the pop-up and run a scan with your antivirus software.", "Ignore it and continue Browse."],
                    bestAnswer: "Close the pop-up and run a scan with your antivirus software.",
                    feedback: {
                        "Call the number and follow their instructions to remove the virus.": "Incorrect. This is a technical support scam. The scammers will often try to get you to pay for fake services or give them remote access to your computer, which can lead to data theft.",
                        "Close the pop-up and run a scan with your antivirus software.": "Correct! Legitimate security warnings don't use aggressive pop-ups and alarming sounds. Close the window, and if you are concerned, run a scan with your own trusted antivirus program.",
                        "Ignore it and continue Browse.": "Incorrect. While it may be a scam, ignoring a malicious pop-up can still be risky. The malicious code could be running in the background. It's best to close the browser, clear the cache, and then run a scan with your antivirus software."
                    }
                }
            ];

            const scenarioTextEl = document.getElementById('scenario-text');
            const choicesEl = document.getElementById('choices');
            const feedbackEl = document.getElementById('feedback');
            const nextBtn = document.getElementById('next-scenario-btn');

            // Function to shuffle an array (Fisher-Yates algorithm)
            function shuffle(array) {
                let currentIndex = array.length, randomIndex;
                while (currentIndex !== 0) {
                    randomIndex = Math.floor(Math.random() * currentIndex);
                    currentIndex--;
                    [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
                }
                return array;
            }

            // Shuffle the scenarios array once on load
            const shuffledScenarios = shuffle([...scenarios]);
            let currentScenarioIndex = 0;

            function loadScenario() {
                const scenario = shuffledScenarios[currentScenarioIndex];
                scenarioTextEl.textContent = scenario.text;
                choicesEl.innerHTML = '';
                feedbackEl.style.display = 'none';
                nextBtn.style.display = 'none';

                scenario.choices.forEach(choice => {
                    const button = document.createElement('button');
                    button.textContent = choice;
                    button.classList.add('btn', 'btn-action');
                    button.dataset.choice = choice;
                    button.addEventListener('click', () => handleChoice(choice, button));
                    choicesEl.appendChild(button);
                });
            }

            function handleChoice(selectedChoice, selectedButton) {
                const scenario = shuffledScenarios[currentScenarioIndex];

                // Disable all buttons
                choicesEl.querySelectorAll('.btn-action').forEach(btn => btn.disabled = true);

                const isCorrect = Array.isArray(scenario.bestAnswer)
                    ? scenario.bestAnswer.includes(selectedChoice)
                    : scenario.bestAnswer === selectedChoice;

                if (isCorrect) {
                    selectedButton.classList.add('correct');
                    feedbackEl.className = 'feedback correct';
                } else {
                    selectedButton.classList.add('incorrect');
                    feedbackEl.className = 'feedback incorrect';
                    // Also highlight the correct answer(s)
                    choicesEl.querySelectorAll('.btn-action').forEach(btn => {
                        if (Array.isArray(scenario.bestAnswer) ? scenario.bestAnswer.includes(btn.dataset.choice) : scenario.bestAnswer === btn.dataset.choice) {
                            btn.classList.add('correct');
                        }
                    });
                }

                feedbackEl.textContent = scenario.feedback[selectedChoice];
                feedbackEl.style.display = 'block';
                nextBtn.style.display = 'inline-block';
            }

            nextBtn.addEventListener('click', () => {
                currentScenarioIndex = (currentScenarioIndex + 1) % shuffledScenarios.length;
                loadScenario();
            });

            // Initial load
            loadScenario();
        });
    </script>
</body>
</html>
